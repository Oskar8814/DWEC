<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>JavaScript</title>
</head>

<body>
	<h1>Ejercicios clase Date</h1>
	<h2>Pulsa F12 para ver la consola de depuración</h2>

	<script>
		//1. Crea un objeto Date que contenga la fecha actual y guárdalo en una variable. Vuelca el contenido a la consola. Vuelca también a la consola el año, el mes (en formato numérico), el día(en formato numérico), el día de la semana (en formato numérico), la hora, los minutos y los segundos. Fíjate en el valor devuelto por el mes y deduce qué número asigna JavaScript al mes Enero.
		console.log(`----------------- EJ1 ----------------------------`);
		let ej1_fecha = new Date();
		console.log(`fecha actual:${ej1_fecha}`);
		let ej1_año = ej1_fecha.getFullYear();
		let ej1_mes = ej1_fecha.getMonth();
		let ej1_dia = ej1_fecha.getDate();
		let ej1_dia_semana = ej1_fecha.getDay();
		let ej1_hora = ej1_fecha.getHours();
		let ej1_minutos = ej1_fecha.getMinutes();
		let ej1_segundos = ej1_fecha.getSeconds();
		console.log(`Año:${ej1_año}, Mes:${ej1_mes}, Dia:${ej1_dia}, Dia semana:${ej1_dia_semana}, Hora:${ej1_hora}, Minutos:${ej1_minutos}, Segundos:${ej1_segundos}`);

		//2. Crea un objeto Date que contenga la fecha de tu nacimiento. 
        //Muestra dicha fecha por consola. Si el mes no aparece correctamente busca en la documentación qué número de mes asigna JavaScript a Enero y corrige el problema.
		console.log(`----------------- EJ2 ----------------------------`);
        let fecha2 = new Date(1988,0,25);
        console.log(fecha2);

        //3. Los objetos Date tienen un método llamado getMonth que devuelve el mes en formato numérico.
        //Crea una función a la cual le pases como argumento ese número y devuelva un string con el mes (‘Enero’, ‘Febrero’, …, ‘Diciembre’).
        console.log(`----------------- EJ3 ----------------------------`);
        let mes = fecha2.getMonth();
        console.log(mes);

        console.log(convierteMes(mes));
        function convierteMes (mes){
            
            switch (mes){
                case 0: return "Enero"; break;
                case 1: return "Febrero"; break;
                case 2: return "Marzo"; break;
                case 3: return "Abril"; break;
                case 4: return "Mayo"; break;
                case 5: return "Junio"; break;
                case 6: return "Julio"; break;
                case 7: return "Agosto"; break;
                case 8: return "Septiembre";break;
                case 9: return "Octubre"; break;
                case 10: return "Noviembre"; break;
                case 11: return "Diciembre"; break;
                default: "No coincide con un mes."
            }
        }

        //4.Los objetos Date tienen un método llamado getDay que devuelve el día de la semana  en formato numérico. 
        //Crea una función a la cual le pases como argumento ese número y devuelva un string con el día de la semana (‘Lunes’, ‘Martes’, …, ‘Domingo’)
        console.log(`----------------- EJ4 ----------------------------`);
        let dia = fecha2.getDay();
        let fecha3 = new Date(2024,9,6);
        let dia3 = fecha3.getDay();
        
        console.log(dia);
        console.log(convierteDia(dia));
        function convierteDia (dia){
            
            switch (dia){
                case 0: return "Domingo"; break;
                case 1: return "Lunes"; break;
                case 2: return "Martes"; break;
                case 3: return "Miercoles"; break;
                case 4: return "Jueves"; break;
                case 5: return "Viernes"; break;
                case 6: return "Sabado"; break;
                default: "No coincide con un dia de la semana."
            }
        }
        
        //5.Muestra por la consola el número de milisegundos que han transcurrido desde el 1 de enero de 1970 hasta el momento actual.
        console.log(`----------------- EJ5 ----------------------------`);
        let diaActual = Date.now();
        console.log(diaActual + " milisegundos transcurridos.");
        
        //6.Usando la página web https://www.epochconverter.com/ averigua el número de milisegundos transcurridos desde el 1/1/1970 hasta la fecha de tu nacimiento. 
        //Crea un objeto Date usando como argumento los milisegundos averiguados anteriormente. Vuelca el contenido del objeto fecha a la consola y comprueba que esa fecha es correcta.
        console.log(`----------------- EJ6 ----------------------------`);
        let nacimiento = new Date(570067200000);
        console.log(nacimiento);

        //7.Averigua qué diferencia horaria tenemos actualmente en España respecto a la UTC. 
        // Los objetos Date contienen un método llamado getTimezoneOffset que devuelven la diferencia entre la hora UTC y la local.
        // Crea un objeto que contenga la hora actual y ejecuta el método anterior para ver el valor devuelto. 
        //Verifica que el valor devuelto por este método coincide con la diferencia horaria actual de España.
        console.log(`----------------- EJ7 ----------------------------`);
        const fecha5 = new Date();
        let diff = fecha5.getTimezoneOffset();
        console.log("La diferencia horaria en minutos es " + diff);
        
        //8.Crea un objeto que contenga la fecha actual. Compara la diferencia devuelta por getUTCHours y getHours. ¿A qué se debe esa diferencia?
        console.log(`----------------- EJ8 ----------------------------`);
        const fechaActual = new Date();
        console.log(fechaActual);
        let hourUTC = fechaActual.getUTCHours();
        let hour2 = fechaActual.getHours();
        let diferencia = hourUTC - hour2;
        console.log("Obtenida con getUTCHours " + hourUTC);
        console.log("Obtenida con getHours " + hour2);
        console.log("Difernecia de horas " + diferencia);

        //Se debe a que getHours tiene en cuenta la zona horaria mientas que UTC es independiente de la zona horaria. Con la diferencia obtenemos la zona horaria.

        //9. Crea un objeto Date que contenga la fecha 28/2/2021. 
        //Obtén el día posterior a la fecha anterior y muéstralo por consola (para ello utiliza el código que tienes en la plataforma para calcular el siguiente día a una fecha). 
        //Crea un nuevo objeto que contenga la fecha 28/2/2020 y obtén el día posterior.
        //(Observación: Para asegurarte que has obtenido las fechas correctas utiliza algún calendario) ¿Por qué los resultados obtenidos han sido diferentes con ambas fechas?
        console.log(`----------------- EJ9 ----------------------------`);
        const fecha6 = new Date(2021,1,28);
        fecha6.setDate(fecha6.getDate()+1);
        console.log(fecha6);
        const fecha7 = new Date(2020,1,28);
        fecha7.setDate(fecha7.getDate()+1);
        console.log(fecha7);//AÑO BISIESTO
        
        //10.Intenta crear un objeto Date con la fecha 35 de enero de 2021. ¿Se ha producido algún error? ¿Qué fecha almacena realmente el objeto anterior?
        console.log(`----------------- EJ10 ----------------------------`);
        let day = new Date(2021,0,35);
        console.log(day);//No, se almacena el dia respectivo al siguente mes en febrero.
        
        //11.Crea una función a la que le puedas pasar dos fechas como entrada y devuelva el número de días transcurridos entre esas dos fechas. 
        //Para comprobar que el cálculo es correcto utiliza alguna web que devuelva el número de días transcurridos entre dos fechas.
        console.log(`----------------- EJ11 ----------------------------`);
        
        let fecha12 = new Date(2024,9,5);
        let fecha13 = new Date(2024,9,3);
        let diff3 = diferenciaDeDias(fecha12,fecha13);
        console.log(diff3);
        
        
        function diferenciaDeDias(fecha1, fecha2){
            
            let diff1 = fecha1.getTime();
            let diff2 = fecha2.getTime();
            let msgDiff=diff1-diff2;
            let dias = msgDiff/1000/60/60/24;
            
            return dias;
        }
        
        //12. Crea un objeto Date con la fecha de tu cumpleaños dando como argumento la fecha en formato String.
        console.log(`----------------- EJ12 ----------------------------`);

        let cumpleaños = new Date("2025-01-25");
        console.log(cumpleaños);
	</script>

</body>

</html>